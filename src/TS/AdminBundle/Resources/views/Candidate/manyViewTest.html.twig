{# src/TS/AdminBundle/Resources/views/Candidate/manyTest.html.twig #}
<div id="questionone{{question.id}}">
    <u><b>Question :</b></u>
    <br>
    <br>
    <div class="col-md-12">  
        
        {% if question.introduction is not null %}
            <b id="introduction{{question.id}}">{{ question.introduction|raw}}</b> 
            <br/>
        {% endif %}

        <p style="font-weight: bold" id="text{{question.id}}">{{ question.text|raw}}</p>
        <br>
        {% if question.questionPicture is not null %}
            <img height="400" width="600" src="{{ asset(question.questionPicture.webPath) }}" alt="{{ question.questionPicture.name }}">
            <br><br>
        {% endif %}

</div>
<br>
<div class="form-row pad0B">

    <div class="form-checkbox-radio col-md-12">
        <div class="checkbox-radio">
            {% set i = 0 %}
            {% for response in question.responses %}
                <input  value="{{response.response}}" type="checkbox" 
                        {% for candidateResponse in test.responses %}
                            {% if ((candidateResponse.questionId is same as (question.id))and (candidateResponse.response is same as (response.response))) %}
                                checked
                            {% endif %}
                            {% if ((candidateResponse.questionId is same as (question.id))and (candidateResponse.response is same as (response.response)) and (response.CorrectAnswer is sameas("yes") )) %}
                                {% set i = i+1%}    
                            {% endif %}
                            {% if ((candidateResponse.questionId is same as (question.id))and (candidateResponse.response is same as (response.response)) and (response.CorrectAnswer is sameas("no") )) %}
                                {% set i= i-1%}    
                            {% endif %}
                        {% endfor %}
                        name="{{question.id}}[]">
                {% if i>0 %}
                    <label class="font-green" for="{{question.id}}">{{response.response}}</label>


                {% elseif i<0 %}
                    <label class="font-red" for="{{question.id}}">{{response.response}}</label>

                {% elseif i==0 and response.CorrectAnswer is  same as("yes") %}
                    <label class="font-green" for="{{question.id}}">{{response.response}}</label>
                {% else %}
                    <label  for="{{question.id}}">{{response.response}}</label>

                {% endif %}
                {% set i = 0 %}
                <br/>

            {% endfor %}
        </div>
    </div>
</div>


<div class="divider" ></div>
</div>
